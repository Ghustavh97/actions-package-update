{"id":"GEfQ","dependencies":[{"name":"/actions-package-update/tsconfig.json","includedInParent":true,"mtime":1613629465000},{"name":"/actions-package-update/package.json","includedInParent":true,"mtime":1613629617605}],"generated":{"js":"\"use strict\";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.toMarkdown=exports.toTextTable=exports.CompareModel=void 0;const t=e(require(\"cli-table3\")),n=e(require(\"git-url-parse\"));class r{constructor(e,t,n){this.name=t.name,this.current=t.version,this.wanted=n.version,this.packageType=this.toPackageType(this.name,e),this.repo=this.toURL(t.repository),this.homepage=t.homepage,this.tags=new Set}rangeWanted(){return this.versionRange(this.current,this.wanted)}diffWantedURL(){return this.diffURL(this.wanted)}toTag(e){const t=`v${e}`;return this.tags.has(t)?t:this.tags.has(e)&&e}diffURL(e){if(this.repo){if(this.current===e){const e=this.toTag(this.current);return e&&`${this.repo}/tree/${e}`}const t=this.toTag(this.current),n=this.toTag(e);return t&&n&&`${this.repo}/compare/${t}...${n}`}return\"\"}versionRange(e,t){return e===t?e:`${e}...${t}`}toPackageType(e,t){const n=(e,t)=>t&&t[e];if(n(e,t.dependencies))return\"dependencies\";if(n(e,t.devDependencies))return\"devDependencies\";if(n(e,t.optionalDependencies))return\"optionalDependencies\";const r=t.bundledDependencies;if(r&&r.find(t=>e===t))return\"bundledDependencies\";const i=t.bundleDependencies;return i&&i.find(t=>e===t)?\"bundleDependencies\":\"shadow\"}toURL(e){if(\"string\"==typeof e){if(2===e.split(\"/\").length)return`https://github.com/${e}`}else if(e&&e.url){const t=n.default(e.url);return t&&t.toString(\"https\").replace(/\\.git$/,\"\")}}}exports.CompareModel=r;class i{constructor(e,t,n,r,i){this.name=e,this.layout=t,this.render=n,this.cliLayout=r,this.cliRender=i}}function o(e){const t=[];t.push(new i(\"Name\",\":---- \",e=>e.homepage?`[${e.name}](${e.homepage})`:`\\`${e.name}\\``,\"left\",e=>e.name)),t.push(new i(\"Updating\",\":--------:\",e=>{const t=e.diffWantedURL();return t?`[${e.rangeWanted()}](${t})`:e.rangeWanted()},\"center\",e=>e.rangeWanted()));return[\"dependencies\",\"devDependencies\",\"peerDependencies\",\"optionalDependencies\",\"bundledDependencies\",\"bundleDependencies\",\"shadow\"].forEach(n=>{if(e.find(e=>e.packageType===n)){const e=e=>e.packageType===n?\"*\":\" \";t.push(new i(n,\":-:\",e,\"center\",e))}}),t}function s(e){return`| ${e.map(e=>e.name).join(\" | \")} |`}function a(e){return`| ${e.map(e=>e.layout).join(\" | \")} |`}function d(e,t){return t.map(t=>{return`| ${e.map(e=>e.render(t)).join(\" | \")} |`}).join(\"\\n\")}function p(e,n,r){const i=u(e,n,r),s=o(i),a=new t.default({head:s.map(e=>e.name),chars:{top:\"=\",\"top-mid\":\"=\",\"top-left\":\"\",\"top-right\":\"=\",bottom:\"=\",\"bottom-mid\":\"=\",\"bottom-left\":\"\",\"bottom-right\":\"=\",left:\"|\",\"left-mid\":\"\",mid:\"-\",\"mid-mid\":\"-\",right:\"|\",\"right-mid\":\"\",middle:\"|\"},colAligns:s.map(e=>e.cliLayout),style:{head:[],\"padding-left\":1,\"padding-right\":1}});return i.forEach(e=>{a.push(s.map(t=>t.cliRender(e)))}),a.toString()}function c(e,t,n){const r=u(e,t,n),i=o(r);return`${s(i)}\\n${a(i)}\\n${d(i,r)}`}function u(e,t,n){return Array.from(t.entries()).filter(([e,t])=>{const r=n.get(e);return r&&r.version&&r.version!==t.version}).map(([t,i])=>{const o=n.get(t);return new r(e,i,o)})}exports.toTextTable=p,exports.toMarkdown=c;"},"sourceMaps":null,"error":null,"hash":"cad2b4b39d64c3a5fff0405686d7c041","cacheData":{"env":{}}}